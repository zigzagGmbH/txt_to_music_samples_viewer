<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Grid Layout</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .audio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        h2 {
            width: 100%;
            margin-top: 30px;
            margin-bottom: 20px;
            color: #444;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        .audio-item {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }

        .audio-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        audio {
            width: 100%;
            margin-bottom: 15px;
        }

        .prompt-title {
            font-weight: bold;
            color: #555;
            margin-bottom: 10px;
        }

        .prompt-text {
            color: #333;
            line-height: 1.5;
        }

        .waveform {
            width: 100%;
            height: 60px;
            background-color: #bbbbbb;
            margin-bottom: 10px;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>Generated Audio Samples</h1>

    <h2>musicgen-stereo-small - 5 sec (using HF Transformes)</h2>
    <div class="audio-grid">
        <!-- Sample 1 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_5sec_r1.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_5sec_r1.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Ambient electronic soundscape with gentle synth pads</div>
        </div>

        <!-- Sample 2 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_5sec_r2.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_5sec_r2.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Upbeat chiptune melody inspired by 8-bit video games</div>
        </div>

        <!-- Sample 3 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_5sec_r3.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_5sec_r3.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Minimalist piano piece reflecting on binary code and algorithms.</div>
        </div>
    </div>

    <h2>musicgen-stereo-small - 8 sec (using HF Transformes)</h2>
    <div class="audio-grid">
        <!-- Sample 1 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_8sec_r1.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_8sec_r1.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Ambient electronic soundscape with gentle synth pads</div>
        </div>

        <!-- Sample 2 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_8sec_r2.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_8sec_r2.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Upbeat chiptune melody inspired by 8-bit video games</div>
        </div>

        <!-- Sample 3 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/small_stereo_8sec_r3.wav"></canvas>
            <audio controls loop>
                <source src="assets/small_stereo_8sec_r3.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Minimalist piano piece reflecting on binary code and algorithms.</div>
        </div>
    </div>

    <h2>musicgen-stereo-medium - 5 sec (using HF Transformers - slow generation)</h2>
    <div class="audio-grid">
        <!-- Sample 1 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_5sec_r1.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_5sec_r1.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Ambient electronic soundscape with gentle synth pads</div>
        </div>

        <!-- Sample 2 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_5sec_r2.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_5sec_r2.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Tribal drums layered with glitchy synth textures, representing data streams.</div>
        </div>

        <!-- Sample 3 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_5sec_r3.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_5sec_r3.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Minimalist piano piece reflecting on binary code and algorithms.</div>
        </div>
    </div>

    <h2>musicgen-stereo-medium - 8 sec (using HF Transformers - slow generation)</h2>
    <div class="audio-grid">
        <!-- Sample 1 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_8sec_r1.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_8sec_r1.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Ambient electronic soundscape with gentle synth pads</div>
        </div>

        <!-- Sample 2 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_8sec_r2.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_8sec_r2.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Tribal drums layered with glitchy synth textures, representing data streams.</div>
        </div>

        <!-- Sample 3 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/medium_stereo_8sec_r3.wav"></canvas>
            <audio controls loop>
                <source src="assets/medium_stereo_8sec_r3.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Minimalist piano piece reflecting on binary code and algorithms.</div>
        </div>
    </div>

    <h2>stable-audiogen-stereo-medium</h2>
    <h3>Results form pure implementation</h3>
    <div class="audio-grid">
        <!-- Sample 1 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r1_10.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r1_10.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Synthwave sunset over a cyberpunk cityscape, melancholic but hopeful</div>
        </div>

        <!-- Sample 2 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r1_20.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r1_20.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Synthwave sunset over a cyberpunk cityscape, melancholic but hopeful</div>
        </div>

        <!-- Sample 3 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r1_30.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r1_30.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Synthwave sunset over a cyberpunk cityscape, melancholic but hopeful</div>
        </div>

        <!-- Sample 4 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r2_30.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r2_30.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Ambient electronic soundscape with gentle synth pads</div>
        </div>

        <!-- Sample 5 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r3_30.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r3_30.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Minimalist piano piece reflecting on binary code and algorithms</div>
        </div>

        <!-- Sample 6 -->
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/trimmed_output_r4_30.wav"></canvas>
            <audio controls loop>
                <source src="assets/trimmed_output_r4_30.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Upbeat chiptune melody inspired by 8-bit video games</div>
        </div>
    </div>
    <h2>audioldm2-large</h2>
    <h3>Results form diffuser implementation for SfX</h3>
    <div class="audio-grid">
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output1_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output1_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A helicopter in the distance flying over a rain forest</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output2_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output2_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Heavy swords clashing against each other</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output3_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output3_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People clapping in an auditorium</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output4_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output4_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People giving a standing ovation</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output5_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output5_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A busy New York City street at midday</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/output6_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/output6_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Dogs barking at a distance</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
    </div>
    <h2>audioldm2</h2>
    <h3>Results form diffuser implementation for SfX</h3>
    <div class="audio-grid">
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output1_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output1_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A helicopter in the distance flying over a rain forest</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output2_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output2_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Heavy swords clashing against each other</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output3_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output3_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People clapping in an auditorium</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output4_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output4_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People giving a standing ovation</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output5_10sec.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output5_10sec.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A busy New York City street at midday</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">Without Faders at the extremes</div>
        </div>
    </div>
    <!-- with faders -->
    <h2>audioldm2</h2>
    <h3>**with fader** Results form diffuser implementation for SfX</h3>
    <div class="audio-grid">
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output1_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output1_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A helicopter in the distance flying over a rain forest</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output2_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output2_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Heavy swords clashing against each other</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output3_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output3_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People clapping in an auditorium</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output4_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output4_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">People giving a standing ovation</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output5_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output5_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">A busy New York City street at midday</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
        <div class="audio-item">
            <canvas class="waveform" data-audio="assets/s_output6_10sec_fd.wav"></canvas>
            <audio controls loop>
                <source src="assets/s_output6_10sec_fd.wav" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
            <div class="prompt-title">Prompt:</div>
            <div class="prompt-text">Dogs barking at a distance</div>
            <br>
            <div class="prompt-title">Note:</div>
            <div class="prompt-text">**With linear-fader** 0f 0.5sec at the extremes</div>
        </div>
    </div>
    <script>
        // To draw reactive and intercative audio waveforms ...
        document.addEventListener('DOMContentLoaded', function () {
            const canvases = document.querySelectorAll('.waveform');
            const audioElements = document.querySelectorAll('audio');

            // Store audio buffer data globally for redrawing during playback
            const audioData = {};

            // Set up all waveforms
            canvases.forEach(canvas => {
                const audioSrc = canvas.getAttribute('data-audio');
                if (!audioSrc) return;

                // Find the corresponding audio element
                const audioElement = Array.from(audioElements).find(audio =>
                    audio.querySelector('source').src.includes(audioSrc.split('/').pop())
                );

                if (audioElement) {
                    // Connect the audio element to the canvas for playback updates
                    audioElement.addEventListener('timeupdate', function () {
                        if (audioData[audioSrc]) {
                            updateWaveform(canvas, audioData[audioSrc], audioElement);
                        }
                    });

                    // Add click navigation on the waveform
                    canvas.addEventListener('click', function (event) {
                        // Calculate click position as percentage of canvas width
                        const rect = canvas.getBoundingClientRect();
                        const clickX = event.clientX - rect.left;
                        const clickPercent = clickX / canvas.width;

                        // Set audio playhead to that position
                        audioElement.currentTime = clickPercent * audioElement.duration;

                        // If audio is paused, start playing
                        if (audioElement.paused) {
                            audioElement.play();
                        }
                    });

                    // Add cursor style to indicate clickable area
                    canvas.style.cursor = 'pointer';
                }

                // Load and decode the audio file
                fetch(audioSrc)
                    .then(response => response.arrayBuffer())
                    .then(arrayBuffer => {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        return audioContext.decodeAudioData(arrayBuffer);
                    })
                    .then(audioBuffer => {
                        // Store the audio data for this source
                        audioData[audioSrc] = audioBuffer;
                        // Draw initial waveform
                        drawWaveform(canvas, audioBuffer);
                    })
                    .catch(e => console.error('Error loading audio for waveform:', e));
            });
        });

        // Function to draw the initial waveform
        function drawWaveform(canvas, audioBuffer) {
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;

            const width = canvas.width;
            const height = canvas.height;

            // Clear canvas
            ctx.clearRect(0, 0, width, height);

            // Get audio data
            const data = audioBuffer.getChannelData(0);
            const step = Math.ceil(data.length / width);

            ctx.fillStyle = '#4444'; // Background color for non-played portion

            for (let i = 0; i < width; i++) {
                const dataIndex = Math.floor(i * step);
                let max = 0;

                // Find the max value in this segment
                for (let j = 0; j < step && (dataIndex + j) < data.length; j++) {
                    const value = Math.abs(data[dataIndex + j]);
                    if (value > max) max = value;
                }

                // Draw bar
                const barHeight = max * height;
                const y = (height - barHeight) / 2;
                ctx.fillRect(i, y, 1, barHeight);
            }
        }

        // Function to update waveform during playback
        function updateWaveform(canvas, audioBuffer, audioElement) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Calculate playback progress
            const progress = audioElement.currentTime / audioElement.duration;
            const progressWidth = Math.floor(width * progress);

            // Clear canvas
            ctx.clearRect(0, 0, width, height);

            // Get audio data
            const data = audioBuffer.getChannelData(0);
            const step = Math.ceil(data.length / width);

            // Draw non-played portion
            ctx.fillStyle = '#4444';
            for (let i = progressWidth; i < width; i++) {
                const dataIndex = Math.floor(i * step);
                let max = 0;

                for (let j = 0; j < step && (dataIndex + j) < data.length; j++) {
                    const value = Math.abs(data[dataIndex + j]);
                    if (value > max) max = value;
                }

                const barHeight = max * height;
                const y = (height - barHeight) / 2;
                ctx.fillRect(i, y, 1, barHeight);
            }

            // Draw played portion
            ctx.fillStyle = '#444';
            for (let i = 0; i < progressWidth; i++) {
                const dataIndex = Math.floor(i * step);
                let max = 0;

                for (let j = 0; j < step && (dataIndex + j) < data.length; j++) {
                    const value = Math.abs(data[dataIndex + j]);
                    if (value > max) max = value;
                }

                const barHeight = max * height;
                const y = (height - barHeight) / 2;
                ctx.fillRect(i, y, 1, barHeight);
            }
        }
    </script>
</body>

</html>
